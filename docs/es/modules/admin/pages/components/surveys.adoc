= Encuesta

== Understand the basics

The Survey component allows participants to answer questionnaires. This is useful when an organization wants to receive private
feedback from participants. Permite definir un conjunto de preguntas con múltiples tipos de respuestas.

NOTE: Once a survey is answered by participants, it's not possible to modify its questions, as that would affect the integrity
of the answers. If you need to modify the questions, create a new survey and unpublish the original one.

image::components/surveys/example01.png[Example of a survey]

== Configuración

=== Create a survey component

To create a Survey component, first go in the xref:admin:spaces.adoc[participatory space] where you want to create it.

image::components/surveys/component_survey.png[Add Survey component button]

Then:

. Click on the "Components" item in the secondary menu
. Click the "Add component" button
. Select "Survey"
. Fill the component creation form

You can still update this form and the configuration after creating the component, by clicking the
image:icons/action_configure.png[Configure icon] Configure icon in the components list.

image::components/surveys/component.png[Add component form]

.Añadir componente: formulario de encuesta
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Nombre
|Requerido
|Title of this component.

|Posición del pedido
|Opcional
|The order of the component in relation with the other components. Tener un número más bajo significa una prioridad mayor.
For instance, if you have two components, "Component a" with weight "10" and "Component b" with weight "0"
then "component b" is first when ordering.
|===

.Añadir componente: Formulario de encuesta - Configuración global
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Ámbitos habilitados
|Opcional
|Marque si desea tener filtrado de Scopes en este componente.

|Alcance
|Opcional
|Which xref:admin:settings/scopes.adoc[Scopes] does this component belongs to.

|Respuestas aceptadas de
|Opcional
|Start date when you want to start receiving answers. Dejar en blanco para ninguna fecha específica. Expected format: dd/mm/yyyy hh:mm.

|Respuestas aceptadas hasta
|Opcional
|Fecha de fin cuando quieres dejar de recibir respuestas. Dejar en blanco para ninguna fecha específica. Expected format: dd/mm/yyyy hh:mm.

|Anuncio
|Opcional
|A general announcement visible on the survey page.

|Borrar respuestas al publicar la encuesta
|Opcional
|Check if you want to delete answers when the survey is published. Useful for testing the survey before publishing it.
|===

.Añadir componente: Formulario de encuestas - Ajustes de paso
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Permitir respuestas
|Opcional
|Check if you want to receive answers in this survey for this phase.

|Permitir a los usuarios no registrados responder a la encuesta
|Opcional
|If active, no login is required to answer the survey. This may lead to poor or unreliable data and make you more vulnerable to
automated attacks. Please use with caution. Ten en cuenta que esta opción sólo permite una respuesta por sesión del navegador,
pero los participantes pueden usar la opción de navegación privada y hacer múltiples respuestas con el mismo dispositivo.

|Anuncio
|Opcional
|A general announcement visible on the survey page for this phase.
|===

=== Create a survey

NOTE: ¿Tiene encuestas repetitivas? Por ejemplo, ¿el mismo formulario de comentarios para cada proceso? You can have a survey that
gets copied and is used as a blueprint so you don't have to manually configure the same survey each time. Learn more
on xref:admin:templates/questionnaires.adoc[Questionnaires templates].

image::components/surveys/edit_questionnaire.png[Choose template form]

First, select a xref:admin:templates/questionnaires.adoc[Questionnaires templates] if you want, or Skip this step.

Then you need to fill the form with the following fields:

image::components/surveys/edit_form.png[Edit survey form]

.Nuevo formulario de encuesta
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Título
|Requerido
|The title of this survey.

|Descripción
|Opcional
|The description of the survey.

|Términos de servicio
|Requerido
|Legal conditions that the participants must meet to answer the survey.
|===

=== Questions

==== Add a question

Then, click the "Add question" button to start creating your survey.
Puede añadir varias preguntas por encuesta, y reordenarlas o eliminarlas.

Every question must have a statement and a type as a minimum.

image::components/surveys/question_form.png[Question form on survey creation]

.Añadir formulario de pregunta
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Declaración
|Requerido
|La pregunta en sí. Por ejemplo, "¿Qué es tu categoría de edad?"

|Descripción
|Opcional
|Additional information on the question if needed.

|Mandatory
|Opcional
|Check if participants must answer this question to complete the survey.

|Límite de caracteres
|Opcional
|The maximum characters the answer can have. Dejar a 0 si no hay límite. Compatible con los tipos de preguntas de respuesta corta y larga.

|Tipo
|Requerido
|Una de las siguientes: respuesta corta, respuesta larga, opción simple, opción múltiple, ordenación, archivos, matriz (opción simple)
o matriz (opción múltiple). Vea xref:_question_types[Tipos de preguntas] para más información.
|===

image::components/surveys/question_form_backend.png[]

image::components/surveys/question_form_frontend.png[]

==== Questions types

.Question types (click to view images in detail)
[cols="10h,~,~,~"]
|===
|Tipo |Frontend |Backend |Descripción

|Respuesta corta
|image:components/surveys/type_short_answer_frontend.png[Tipo de respuesta corta - frontend,link=../_images/components/surveys/type_short_answer_frontend.png]
|image:components/surveys/type_short_answer_backend.png[Tipo de respuesta corta - backend,link=../_images/components/surveys/type_short_answer_backend.png]
|Compatible con la validación de "Límite de caracteres"

|Respuesta larga
|imagen:components/surveys/type_long_answer_frontend.png[Tipo de respuesta larga - frontend,link=../_images/components/surveys/type_long_answer_frontend.png]
|imagen:components/surveys/type_long_answer_backend.png[Tipo de respuesta larga - backend,link=../_images/components/surveys/type_long_answer_backend.png]
|Compatible con la validación de "Límite de caracteres"

|Opción única
|image:components/surveys/type_single_option_frontend.png[Tipo de opción única - frontend,link=../_images/components/surveys/type_single_option_frontend.png]
|image:components/surveys/type_single_option_backend.png[Tipo de opción única - backend,link=../_images/components/surveys/type_single_option_backend.png]
|Participants have to choose a single option, with radio buttons. Add at least 2 answer options.
It's possible to define a "Free text" option, for participants to submit their own answer.

|Opción múltiple
|image:components/surveys/type_multiple_option_frontend.png[Tipo de opción múltiple - frontend,link=../_images/components/surveys/type_multiple_option_frontend.png]
|image:components/surveys/type_multiple_option_backend.png[Tipo de opción múltiple - backend,link=../_images/components/surveys/type_multiple_option_backend.png]
|Participants can choose multiple options, with checkboxes. Add at least 2 answer options. It's possible to add a validation,
with the maximum number of choices. It's possible to define a "Free text" option, for participants to submit their own answer.

|Ordenando
|imagen:components/surveys/type_sorting_frontend.png[Ordenando tipo - frontend,link=../_images/components/surveys/type_sorting_frontend.png]
|imagen:components/surveys/type_sorting_backend.png[Ordenando tipo - backend,link=../_images/components/surveys/type_sorting_backend.png]
|Add at least 2 answer options. Participants can drag and drop answer options to order them.

|Archivos
|image:components/surveys/type_files_frontend.png[Tipo de archivos - frontend,link=../_images/components/surveys/type_files_frontend.png]
|image:components/surveys/type_files_backend.png[Tipo de archivos - backend,link=../_images/components/surveys/type_files_backend.png]
|Allow participants to upload files.

|Matrimonio (opción simple)
|image:components/surveys/type_matrix_single_option_frontend.png[Mshortx (Single option) type - frontend,link=../_images/components/surveys/type_matrix_single_option_frontend.png]
|image:components/surveys/type_matrix_single_option_backend.png[Murgx (Single option) type - backend,link=../_images/components/surveys/type_matrix_single_option_backend.png]
|Participants have to choose between rows and columns of single options, with radio buttons.

|Matríz (opción múltiple)
|image:components/surveys/type_matrix_multiple_option_frontend.png[Matrimonio (opción múltiple) tipo - frontend,link=../_images/components/surveys/type_matrix_multiple_option_frontend.png]
|image:components/surveys/type_matrix_multiple_option_backend.png[Tipo Matrimonio (opción múltiple) - backend,link=../_images/components/surveys/type_matrix_multiple_option_backend.png]
|Participants have to choose between rows and columns of multiple options, with checkboxes.
|===

==== Conditional questions

Once you saved your survey, you can see that a new "Add display condition" button is added in the questions blocks.
This feature allows administrators to create complex surveys with conditionality, meaning that some questions are displayed
only if participants chose a specific answer in the previous questions.

TIP: Conditional questions can be difficult to configure, so be sure to test the survey behaviour before publishing it.

image::components/surveys/conditional_question.png[Display condition in backend]

.Add display condition form
[cols="20h,10h,~"]
|===
|Campo |Tipo |Descripción

|Question
|Requerido
|The previous question that is the condition for displaying this question.

|Condition
|Requerido
|To define the condition needed for this question to be displayed.

|Answer option
|Requerido
|This field propose the answer options to the questions that need to be chose by participants to realize the condition.
Only available for "Equal" and "Not Equal" conditions.

|Included text
|Requerido
|Only available for "Includes text" conditions.

|This condition needs to be satisfied always regardless the status of other conditions
|Opcional
|Check if this condition is essential, even if other conditions would make the display of the question possible.
|===

=== Separators

You can also add separators between questions, when you have a long survey or different topics.
They allow to display the forms questions in different steps.

Separators can only be ordered or deleted.

image::components/surveys/separator.png[Separator in front end]

=== Title and description

You can also add a title and description section, to bring clarity to the form and separate it in different sections.
Coupled with separators, they allow to give titles and descriptions to the survey steps.
They can also be used alone, in a one page survey.

image::components/surveys/title_description_backend.png[Title and description in back end]

=== Exportar respuestas

Es posible exportar las respuestas de los participantes de la encuesta a diferentes formatos: CSV, JSON, XLSX (Excel) o PDF.
It doesn't export user data, so if you need to collect it, make sure to create dedicated survey questions.

NOTE: The platform doesn't handle the answers processing nor presenting results or summary to the users, that need to be
done externally.

== Ejemplos

Some examples of where this component is used:

* https://consultation.quebec.ca/processes/donneesquebec/f/82/[Data Quebec: participate in its improvement in Québec consultations]