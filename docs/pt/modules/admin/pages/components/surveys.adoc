= Questionário

== Understand the basics

The Survey component allows participants to answer questionnaires. This is useful when an organization wants to receive private
feedback from participants. Permite definir um conjunto de perguntas com vários tipos de respostas.

NOTE: Once a survey is answered by participants, it's not possible to modify its questions, as that would affect the integrity
of the answers. If you need to modify the questions, create a new survey and unpublish the original one.

image::components/surveys/example01.png[Example of a survey]

== Configuração

=== Create a survey component

To create a Survey component, first go in the xref:admin:spaces.adoc[participatory space] where you want to create it.

image::components/surveys/component_survey.png[Add Survey component button]

Then:

. Click on the "Components" item in the secondary menu
. Click the "Add component" button
. Select "Survey"
. Fill the component creation form

You can still update this form and the configuration after creating the component, by clicking the
image:icons/action_configure.png[Configure icon] Configure icon in the components list.

image::components/surveys/component.png[Add component form]

.Adicionar componente: Formulário de pesquisa
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Nome:
|Obrigatório
|Title of this component.

|Posição do pedido
|Opcional
|The order of the component in relation with the other components. Ter um número menor significa uma prioridade mais alta.
For instance, if you have two components, "Component a" with weight "10" and "Component b" with weight "0"
then "component b" is first when ordering.
|===

.Adicionar componente: Formulário de pesquisa - Configurações globais
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Âmbitos ativados
|Opcional
|Verifique se você quer ter filtragem de escopos neste componente.

|Escopo
|Opcional
|Which xref:admin:settings/scopes.adoc[Scopes] does this component belongs to.

|Respostas aceitas de
|Opcional
|Start date when you want to start receiving answers. Deixe em branco para nenhuma data específica. Expected format: dd/mm/yyyy hh:mm.

|Respostas aceitas até
|Opcional
|Data de término quando você deseja parar de receber respostas. Deixe em branco para nenhuma data específica. Expected format: dd/mm/yyyy hh:mm.

|Anúncio
|Opcional
|A general announcement visible on the survey page.

|Excluir respostas ao publicar a pesquisa
|Opcional
|Check if you want to delete answers when the survey is published. Useful for testing the survey before publishing it.
|===

.Adicionar componente: Formulário de pesquisas - Configurações de passos
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Permitir respostas
|Opcional
|Check if you want to receive answers in this survey for this phase.

|Permitir que usuários não registrados respondam à pesquisa
|Opcional
|If active, no login is required to answer the survey. This may lead to poor or unreliable data and make you more vulnerable to
automated attacks. Please use with caution. Mind that this option only allows an answer by browser session,
but participants can use the Private navigation option and make multiple answers with the same device.

|Anúncio
|Opcional
|A general announcement visible on the survey page for this phase.
|===

=== Create a survey

NOTE: Vocês têm pesquisas repetitivas? Por exemplo, o mesmo formulário de feedback para cada processo? You can have a survey that
gets copied and is used as a blueprint so you don't have to manually configure the same survey each time. Learn more
on xref:admin:templates/questionnaires.adoc[Questionnaires templates].

image::components/surveys/edit_questionnaire.png[Choose template form]

First, select a xref:admin:templates/questionnaires.adoc[Questionnaires templates] if you want, or Skip this step.

Then you need to fill the form with the following fields:

image::components/surveys/edit_form.png[Edit survey form]

.Novo formulário de pesquisa
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Título
|Obrigatório
|The title of this survey.

|Descrição:
|Opcional
|The description of the survey.

|Termos de serviço
|Obrigatório
|Legal conditions that the participants must meet to answer the survey.
|===

=== Questions

==== Add a question

Then, click the "Add question" button to start creating your survey.
Você pode adicionar várias perguntas por pesquisa, reordenar ou excluí-las.

Every question must have a statement and a type as a minimum.

image::components/surveys/question_form.png[Question form on survey creation]

.Adicionar formulário de pergunta
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Instrução
|Obrigatório
|A pergunta propriamente dita. Por exemplo, "Qual é a sua categoria idade?"

|Descrição:
|Opcional
|Additional information on the question if needed.

|Mandatory
|Opcional
|Check if participants must answer this question to complete the survey.

|Limite de caracteres
|Opcional
|The maximum characters the answer can have. Deixe para 0 se não houver limite. Compatível com tipos de perguntas curtas e respostas longas.

|tipo
|Obrigatório
|Um dos seguintes: Resposta curta, resposta longa, opção única, opção múltipla, Ordenação, Arquivos, Matriz (opção Casa)
ou Matriz (Múltipla opção). Veja xref:_question_types[Question types] para mais informações.
|===

image::components/surveys/question_form_backend.png[]

image::components/surveys/question_form_frontend.png[]

==== Questions types

.Question types (click to view images in detail)
[cols="10h,~,~,~"]
|===
|tipo |Frontend |Backend |Descrição:

|Resposta curta
|image:components/surveys/type_short_answer_frontend.png[Tipo resposta curta - frontend,link=../_images/components/surveys/type_short_answer_frontend.png]
|image:components/surveys/type_short_answer_backend.png[Tipo de resposta curta - backend,link=../_images/components/surveys/type_short_answer_backend.png]
|Compatível com validação de "Limite de caracteres"

|Resposta longa
|image:components/surveys/type_long_answer_frontend.png[Tipo de resposta longa - frontend,link=../_images/components/surveys/type_long_answer_frontend.png]
|image:components/surveys/type_long_answer_backend.png[Tipo de resposta longa - backend,link=../_images/components/surveys/type_long_answer_backend.png]
|Compatível com validação de "Limite de caracteres"

|Opção única
|image:components/surveys/type_single_option_frontend.png[Tipo de opção única - frontend,link=../_images/components/surveys/type_single_option_frontend.png]
|image:components/surveys/type_single_option_backend.png[Tipo de opção única - backend,link=../_images/components/surveys/type_single_option_backend.png]
|Participants have to choose a single option, with radio buttons. Add at least 2 answer options.
It's possible to define a "Free text" option, for participants to submit their own answer.

|Opção múltipla
|image:components/surveys/type_multiple_option_frontend.png[Múltiplas opções de tipo - frontend,link=../_images/components/surveys/type_multiple_option_frontend.png]
|image:components/surveys/type_multiple_option_backend.png[Múltiplas opções - backend,link=../_images/components/surveys/type_multiple_option_backend.png]
|Participants can choose multiple options, with checkboxes. Add at least 2 answer options. It's possible to add a validation,
with the maximum number of choices. It's possible to define a "Free text" option, for participants to submit their own answer.

|Classificação
|image:components/surveys/type_sorting_frontend.png[Tipo de ordenação - frontend,link=../_images/components/surveys/type_sorting_frontend.png]
|image:components/surveys/type_sorting_backend.png[Tipo de ordenação - backend,link=../_images/components/surveys/type_sorting_backend.png]
|Add at least 2 answer options. Participants can drag and drop answer options to order them.

|arquivos
|image:components/surveys/type_files_frontend.png[Tipo de arquivos - frontend,link=../_images/components/surveys/type_files_frontend.png]
|image:components/surveys/type_files_backend.png[Tipo de arquivos - backend,link=../_images/components/surveys/type_files_backend.png]
|Allow participants to upload files.

|Matriz (opção única)
|image:components/surveys/type_matrix_single_option_frontend.png[Matrix (Single option) type - frontend,link=../_images/components/surveys/type_matrix_single_option_frontend.png]
|image:components/surveys/type_matrix_single_option_backend.png[Matrix (Single option) type - backend,link=../_images/components/surveys/type_matrix_single_option_backend.png]
|Participants have to choose between rows and columns of single options, with radio buttons.

|Matriz (Múltipla opção)
|image:components/surveys/type_matrix_multiple_option_frontend.png[Matrix (Múltipla opção) type - frontend,link=../_images/components/surveys/type_matrix_multiple_option_frontend.png]
|image:components/surveys/type_matrix_multiple_option_backend.png[Tipo Matrix (Múltipla opção) - backend,link=../_images/components/surveys/type_matrix_multiple_option_backend.png]
|Participants have to choose between rows and columns of multiple options, with checkboxes.
|===

==== Conditional questions

Once you saved your survey, you can see that a new "Add display condition" button is added in the questions blocks.
This feature allows administrators to create complex surveys with conditionality, meaning that some questions are displayed
only if participants chose a specific answer in the previous questions.

TIP: Conditional questions can be difficult to configure, so be sure to test the survey behaviour before publishing it.

image::components/surveys/conditional_question.png[Display condition in backend]

.Add display condition form
[cols="20h,10h,~"]
|===
|Campo |tipo |Descrição:

|Question
|Obrigatório
|The previous question that is the condition for displaying this question.

|Condition
|Obrigatório
|To define the condition needed for this question to be displayed.

|Answer option
|Obrigatório
|This field propose the answer options to the questions that need to be chose by participants to realize the condition.
Only available for "Equal" and "Not Equal" conditions.

|Included text
|Obrigatório
|Only available for "Includes text" conditions.

|This condition needs to be satisfied always regardless the status of other conditions
|Opcional
|Check if this condition is essential, even if other conditions would make the display of the question possible.
|===

=== Separators

You can also add separators between questions, when you have a long survey or different topics.
They allow to display the forms questions in different steps.

Separators can only be ordered or deleted.

image::components/surveys/separator.png[Separator in front end]

=== Title and description

You can also add a title and description section, to bring clarity to the form and separate it in different sections.
Coupled with separators, they allow to give titles and descriptions to the survey steps.
They can also be used alone, in a one page survey.

image::components/surveys/title_description_backend.png[Title and description in back end]

=== Exportar respostas

É possível exportar as respostas dos participantes da pesquisa para diferentes formatos: CSV, JSON, XLSX (Excel) ou PDF.
It doesn't export user data, so if you need to collect it, make sure to create dedicated survey questions.

NOTE: The platform doesn't handle the answers processing nor presenting results or summary to the users, that need to be
done externally.

== Exemplos

Some examples of where this component is used:

* https://consultation.quebec.ca/processes/donneesquebec/f/82/[Data Quebec: participate in its improvement in Québec consultations]