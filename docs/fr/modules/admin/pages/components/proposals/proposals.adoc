= Gestion des propositions

== En bref

Il est important de comprendre que les Propositions ne sont pas seulement le nom de la fonctionnalité, mais aussi les entités de la fonctionnalité.

image::components/proposals/proposals_list_frontend.png[Proposals list frontend]

== Configuration

Une fois que vous avez créé votre volet Propositions, vous êtes redirigé·e·x vers la liste des propositions. Là, vous pouvez créer et gérer les propositions de
votre volet.

Selon que vous ne souhaitez réunir que des propositions de participant·e·x·s, ou que vous voulez également créer des propositions officielles, lisez la section
pertinente.

=== Création de propositions

==== Propositions officielles

Pour créer des propositions officielles, la première étape est de créer une proposition, en cliquant sur "Nouvelle proposition".

image::components/proposals/new_proposal_backend.png[New proposal form - with multiple settings (official proposals)]

.Formulaire de nouvelle proposition - par défaut (propositions officielles)
[cols="20h,10h,~"]
|===
|Champ |Type |Description

|Titre
|Obligatoire
|Le titre de cette proposition. Il doit avoir 15 caractères au minimum et 150 caractères au maximum et commencer par une majuscule.

|Corps
|Obligatoire
|La description complète de cette proposition. Doit avoir 15 caractères au minimum et 450 caractères au maximum
par défaut, mais il peut être modifié avec le paramètre "Longueur maximale du corps de la proposition" dans la configuration de la fonctionnalité.

|Hashtags suggérés
|Facultatif
|Si les xref:admin:features/social_features/hashtags.adoc[hashtags] ont été configurés, les participant·e·x·s peuvent sélectionner ceux liés à leur proposition.

|Cette proposition provient d'une réunion
|Facultatif
|Vérifier si cette proposition provient d'une réunion. Le lien vers la réunion s'affiche dans la page de la proposition.

|Sélectionnez une réunion
|Obligatoire
|Sélecteur de liste déroulante avec toutes les réunions de cet espace participatif. Champ affiché si la case à cocher "Cette proposition provient d'une réunion" est cochée.
L'auteur·ice de la proposition devient la réunion.

|Adresses
|Facultatif
|Si activé, le géocodage permet à lae participant·e·x de localiser ses propositions dans un emplacement spécifique. Les propositions avec une adresse sont alors
affichées sur la carte dans la liste des propositions.

|Catégorie
|Facultatif
|À quelle catégorie prédéfinie appartient la proposition. Utilisé pour filtrer la liste des propositions.

|Ajouter des documents
|Facultatif
|Si activé, les participant·e·x·s peuvent ajouter des fichiers et des images à leur proposition. La première image ajoutée est également l'image de la proposition dans
la liste de la grille de la proposition.
|===

==== Propositions des participants

Une fois la création de propositions de participant·e·x·s activée pour la phase active, les participant·e·x·s peuvent voir un bouton "Nouvelle proposition" sur la page d'annonce de la proposition
.

image::components/proposals/new_proposal_button_frontend.png[New proposal button on proposals list]

Lorsqu'iels cliquent sur le bouton, iels sont redirigé·e·x·s sur un formulaire en deux étapes, leur permettant de créer leur proposition.
Ce formulaire dépend de beaucoup de paramètres activés dans la fonctionnalité.

image::components/proposals/new_proposal_frontend.png[New proposal form - Create]

.Formulaire de proposition de nouveaux participant·e·x·s - Étape de création
[cols="20h,10h,~"]
|===
|Champ |Type |Description

|Titre
|Obligatoire
|Le titre de cette proposition. Il doit avoir 15 caractères au minimum et 150 caractères au maximum et commencer par une majuscule.

|Corps
|Obligatoire
|La description complète de cette proposition. Doit avoir 15 caractères au minimum et 450 caractères au maximum
par défaut, mais il peut être modifié avec le paramètre "Longueur maximale du corps de la proposition" dans la configuration de la fonctionnalité.

|Hashtags suggérés
|Facultatif
|Si les xref:admin:features/social_features/hashtags.adoc[hashtags] ont été configurés, les participant·e·x·s peuvent sélectionner ceux liés à leur proposition.

|Adresses
|Facultatif
|Si activé, le géocodage permet à lae participant·e·x de localiser ses propositions dans un emplacement spécifique. Les propositions avec une adresse sont alors
affichées sur la carte dans la liste des propositions.

|Catégorie
|Facultatif
|À quelle catégorie prédéfinie appartient la proposition. Utilisé pour filtrer la liste des propositions.

|Ajouter des documents
|Facultatif
|Si activé, les participant·e·x·s peuvent ajouter des fichiers et des images à leur proposition. La première image ajoutée est également l'image de la proposition dans
la liste de la grille de la proposition.

|Créer une proposition en tant que
|Facultatif
|Si lae participant·e·x appartient à un [groupe d'utilisateur·ices], iel peut créer une proposition au nom de
ce groupe
|===

Une fois que la proposition est écrite et que toutes les propriétés sont définies, lae participant·e·x peut cliquer sur le bouton d'aperçu pour examiner sa proposition.
La proposition est enregistrée comme brouillon au cas où les participant·e·x·s voudraient la modifier plus tard.

image::components/proposals/new_proposal_frontend_publish.png[New proposal form (by a participant) - Publish]

Iel peut cliquer sur le bouton "Publier" pour finaliser la publication de la proposition.

image::components/proposals/new_proposal_frontend_published.png[Published proposal made by a participant]

=== Gérer les propositions

Une fois qu'il y a plusieurs propositions dans le processus, les administrateur·ices peuvent les gérer.

image::components/proposals/manage_proposals.png[Manage proposals table]

Sur la liste des propositions dans le panneau d'administration, les administrateur·ices peuvent voir :

* *Titre* : Titre de la proposition.
* *Publié à* : Date de publication de la proposition.
* *Commentaires* : Le nombre de commentaires que contient cette proposition.
* *Notes* : Le nombre de votes que cette proposition possède.
* *Évaluateur·ices* : Le nombre d'évaluateur·ices pour cette proposition.
* *Statut* : Le statut de xref:admin:components/proposals/answers.adoc[réponse] de cette proposition.

Il est possible de filtrer et trier cette liste en cliquant sur "Filtrer" et sur les en-têtes des colonnes.
Il est également possible de rechercher des propositions titre ou par ID dans la barre de recherche.

=== Actions

.Actions
[cols="10h,20h,~"]
|===
|Icône |Nom |Définition

|image:icons/action_edit.png[Modifier l'icône]
|Modifier
|Modifier le formulaire, uniquement pour les xref:_official_proposals[Propositions officielles].

|image:icons/action_answers.png[Icône de proposition de réponse]
|xref:components/propositions/answers.adoc[Répondre à la proposition]
|Permet aux administrateur·ices et aux évaluateur·ices de donner une réponse officielle à une proposition.

|image:icons/action_preview.png[Icône d'aperçu]
|Aperçu
|Pour voir comment il est montré dans le frontend aux participants.

|image:icons/action_permissions.png[Icône Autorisations]
|Autorisations
|Pour gérer les autorisations nécessaires pour aimer, modifier, voter un commentaire ou commenter cette proposition spécifique.
|===

=== Actions regroupées

Lorsque vous gérez des propositions, vous pouvez sélectionner plusieurs propositions en même temps pour effectuer plusieurs actions en même temps.

image::components/proposals/bulk_actions.png[Proposals bulk actions]

=== Exportation

Le bouton "Tout exporter" permet aux administrateur·ices d'exporter les propositions et leurs commentaires dans différents formats.

* Propositions au format CSV
* Propositions en JSON
* Propositions en tant qu'Excel
* Commentaires en tant que CSV
* Commentaires en JSON
* Commentaires en tant qu'Excel

=== Importation

* Importer des propositions depuis un autre volet : Permet d'importer des propositions depuis un volet de proposition du même espace.
* Importer des propositions depuis un fichier
* Importer des réponses depuis un fichier